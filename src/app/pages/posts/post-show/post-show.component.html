<mat-card>
    <mat-card-header>
        <div
            mat-card-avatar
            class="card-header-avatar"
            [ngStyle]="{
                background: ' url(' + post()?.author.img + ')  no-repeat 0 0'
            }"
        ></div>
        <mat-card-title>{{ post()?.title }}</mat-card-title>
        <mat-card-subtitle>
            <time>
                {{
                    post()?.created_at * 1000 | amDateFormat: "DD-MM-YYYY HH:mm"
                }}
                (
                {{ created_at() | timeago }}
                )
            </time>
        </mat-card-subtitle>

        <span class="flex-spacer"></span>

        <div>
            <button mat-icon-button (click)="bookmarkToogle()">
                <mat-icon color="primary" [fontSet]="'material-icons-outlined'"
                    >{{ bookmarked() ? "bookmark" : "bookmark_add" }}
                </mat-icon>
            </button>
        </div>
    </mat-card-header>

    <!-- <img mat-card-image [ngSrc]="post()?.featured_image" height="240" width="400"/> -->
    <img mat-card-image [src]="post()?.featured_image" />

    <mat-card-content>
        <div [innerHTML]="post()?.content | sanitize"></div>
    </mat-card-content>

    <mat-divider class="inset"></mat-divider>

    <mat-card-actions>
        <mat-chip-listbox>
            @for (tag of post()?.tags; track tag) {
                <mat-chip>{{ tag }}</mat-chip>
            }
        </mat-chip-listbox>
    </mat-card-actions>
</mat-card>

<fab-edit-post [id]="id()" />
